2020-02-11 13:25:16,752 - DEBUG - utils:load_classes - attempting to load modules from path: /usr/local/lib/python3.6/dist-packages/core/services
2020-02-11 13:25:16,753 - DEBUG - utils:load_classes - adding parent path to allow imports: /usr/local/lib/python3.6/dist-packages/core
2020-02-11 13:25:16,753 - DEBUG - utils:load_classes - importing custom module: services.dockersvc
2020-02-11 13:25:16,754 - DEBUG - dockersvc:<module> - missing python docker bindings
2020-02-11 13:25:16,755 - DEBUG - utils:load_classes - importing custom module: services.xorp
2020-02-11 13:25:16,756 - DEBUG - utils:load_classes - importing custom module: services.emaneservices
2020-02-11 13:25:16,756 - DEBUG - utils:load_classes - importing custom module: services.security
2020-02-11 13:25:16,759 - DEBUG - utils:load_classes - importing custom module: services.ucarp
2020-02-11 13:25:16,760 - DEBUG - utils:load_classes - importing custom module: services.nrl
2020-02-11 13:25:16,766 - DEBUG - utils:load_classes - importing custom module: services.sdn
2020-02-11 13:25:16,767 - DEBUG - utils:load_classes - importing custom module: services.frr
2020-02-11 13:25:16,768 - DEBUG - utils:load_classes - importing custom module: services.coreservices
2020-02-11 13:25:16,769 - DEBUG - utils:load_classes - importing custom module: services.utility
2020-02-11 13:25:16,770 - DEBUG - utils:load_classes - importing custom module: services.quagga
2020-02-11 13:25:16,771 - DEBUG - utils:load_classes - importing custom module: services.bird
2020-02-11 13:25:16,772 - DEBUG - coreservices:add - loading service: class(DockerService) name(Docker)
2020-02-11 13:25:16,772 - DEBUG - coreservices:add_services - not loading service(Docker): failed to find required executable(docker) in path
2020-02-11 13:25:16,772 - DEBUG - coreservices:add - loading service: class(XorpBgp) name(XORP_BGP)
2020-02-11 13:25:16,772 - DEBUG - coreservices:add_services - not loading service(XORP_BGP): failed to find required executable(xorp_rtrmgr) in path
2020-02-11 13:25:16,772 - DEBUG - coreservices:add - loading service: class(XorpOlsr) name(XORP_OLSR)
2020-02-11 13:25:16,772 - DEBUG - coreservices:add_services - not loading service(XORP_OLSR): failed to find required executable(xorp_rtrmgr) in path
2020-02-11 13:25:16,772 - DEBUG - coreservices:add - loading service: class(XorpOspfv2) name(XORP_OSPFv2)
2020-02-11 13:25:16,772 - DEBUG - coreservices:add_services - not loading service(XORP_OSPFv2): failed to find required executable(xorp_rtrmgr) in path
2020-02-11 13:25:16,772 - DEBUG - coreservices:add - loading service: class(XorpOspfv3) name(XORP_OSPFv3)
2020-02-11 13:25:16,772 - DEBUG - coreservices:add_services - not loading service(XORP_OSPFv3): failed to find required executable(xorp_rtrmgr) in path
2020-02-11 13:25:16,773 - DEBUG - coreservices:add - loading service: class(XorpPimSm4) name(XORP_PIMSM4)
2020-02-11 13:25:16,773 - DEBUG - coreservices:add_services - not loading service(XORP_PIMSM4): failed to find required executable(xorp_rtrmgr) in path
2020-02-11 13:25:16,773 - DEBUG - coreservices:add - loading service: class(XorpPimSm6) name(XORP_PIMSM6)
2020-02-11 13:25:16,773 - DEBUG - coreservices:add_services - not loading service(XORP_PIMSM6): failed to find required executable(xorp_rtrmgr) in path
2020-02-11 13:25:16,773 - DEBUG - coreservices:add - loading service: class(XorpRip) name(XORP_RIP)
2020-02-11 13:25:16,773 - DEBUG - coreservices:add_services - not loading service(XORP_RIP): failed to find required executable(xorp_rtrmgr) in path
2020-02-11 13:25:16,773 - DEBUG - coreservices:add - loading service: class(XorpRipng) name(XORP_RIPNG)
2020-02-11 13:25:16,773 - DEBUG - coreservices:add_services - not loading service(XORP_RIPNG): failed to find required executable(xorp_rtrmgr) in path
2020-02-11 13:25:16,773 - DEBUG - coreservices:add - loading service: class(XorpRtrmgr) name(xorp_rtrmgr)
2020-02-11 13:25:16,773 - DEBUG - coreservices:add_services - not loading service(xorp_rtrmgr): failed to find required executable(xorp_rtrmgr) in path
2020-02-11 13:25:16,773 - DEBUG - coreservices:add - loading service: class(EmaneTransportService) name(transportd)
2020-02-11 13:25:16,774 - DEBUG - coreservices:add - loading service: class(Firewall) name(Firewall)
2020-02-11 13:25:16,774 - DEBUG - coreservices:add - loading service: class(IPsec) name(IPsec)
2020-02-11 13:25:16,774 - DEBUG - coreservices:add - loading service: class(Nat) name(NAT)
2020-02-11 13:25:16,774 - DEBUG - coreservices:add - loading service: class(VPNClient) name(VPNClient)
2020-02-11 13:25:16,774 - DEBUG - coreservices:add - loading service: class(VPNServer) name(VPNServer)
2020-02-11 13:25:16,774 - DEBUG - coreservices:add - loading service: class(Ucarp) name(ucarp)
2020-02-11 13:25:16,774 - DEBUG - coreservices:add - loading service: class(Arouted) name(arouted)
2020-02-11 13:25:16,774 - DEBUG - coreservices:add_services - not loading service(arouted): failed to find required executable(arouted) in path
2020-02-11 13:25:16,774 - DEBUG - coreservices:add - loading service: class(MgenActor) name(MgenActor)
2020-02-11 13:25:16,774 - DEBUG - coreservices:add - loading service: class(MgenSinkService) name(MGEN_Sink)
2020-02-11 13:25:16,774 - DEBUG - coreservices:add - loading service: class(NrlNhdp) name(NHDP)
2020-02-11 13:25:16,774 - DEBUG - coreservices:add_services - not loading service(NHDP): failed to find required executable(nrlnhdp) in path
2020-02-11 13:25:16,775 - DEBUG - coreservices:add - loading service: class(NrlOlsr) name(OLSR)
2020-02-11 13:25:16,775 - DEBUG - coreservices:add_services - not loading service(OLSR): failed to find required executable(nrlolsrd) in path
2020-02-11 13:25:16,775 - DEBUG - coreservices:add - loading service: class(NrlOlsrv2) name(OLSRv2)
2020-02-11 13:25:16,775 - DEBUG - coreservices:add_services - not loading service(OLSRv2): failed to find required executable(nrlolsrv2) in path
2020-02-11 13:25:16,775 - DEBUG - coreservices:add - loading service: class(NrlSmf) name(SMF)
2020-02-11 13:25:16,775 - DEBUG - coreservices:add_services - not loading service(SMF): failed to find required executable(nrlsmf) in path
2020-02-11 13:25:16,775 - DEBUG - coreservices:add - loading service: class(OlsrOrg) name(OLSRORG)
2020-02-11 13:25:16,775 - DEBUG - coreservices:add_services - not loading service(OLSRORG): failed to find required executable(olsrd) in path
2020-02-11 13:25:16,775 - DEBUG - coreservices:add - loading service: class(OvsService) name(OvsService)
2020-02-11 13:25:16,775 - DEBUG - coreservices:add_services - not loading service(OvsService): failed to find required executable(ovs-ofctl) in path
2020-02-11 13:25:16,775 - DEBUG - coreservices:add - loading service: class(RyuService) name(ryuService)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add_services - not loading service(ryuService): failed to find required executable(ryu-manager) in path
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(FRRBabel) name(FRRBabel)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(FRRBgp) name(FRRBGP)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(FRROspfv2) name(FRROSPFv2)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(FRROspfv3) name(FRROSPFv3)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(FRRRip) name(FRRRIP)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(FRRRipng) name(FRRRIPNG)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(FRRZebra) name(FRRzebra)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(FRRpimd) name(FRRpimd)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(AtdService) name(atd)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(DefaultMulticastRouteService) name(DefaultMulticastRoute)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(DefaultRouteService) name(DefaultRoute)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(DhcpClientService) name(DHCPClient)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(DhcpService) name(DHCP)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(FtpService) name(FTP)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(HttpService) name(HTTP)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(IPForwardService) name(IPForward)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(PcapService) name(pcap)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(RadvdService) name(radvd)
2020-02-11 13:25:16,776 - DEBUG - coreservices:add - loading service: class(SshService) name(SSH)
2020-02-11 13:25:16,777 - DEBUG - coreservices:add - loading service: class(StaticRouteService) name(StaticRoute)
2020-02-11 13:25:16,777 - DEBUG - coreservices:add - loading service: class(UserDefinedService) name(UserDefined)
2020-02-11 13:25:16,777 - DEBUG - coreservices:add - loading service: class(Babel) name(Babel)
2020-02-11 13:25:16,777 - DEBUG - coreservices:add - loading service: class(Bgp) name(BGP)
2020-02-11 13:25:16,777 - DEBUG - coreservices:add - loading service: class(Ospfv2) name(OSPFv2)
2020-02-11 13:25:16,777 - DEBUG - coreservices:add - loading service: class(Ospfv3) name(OSPFv3)
2020-02-11 13:25:16,777 - DEBUG - coreservices:add - loading service: class(Ospfv3mdr) name(OSPFv3MDR)
2020-02-11 13:25:16,777 - DEBUG - coreservices:add - loading service: class(Rip) name(RIP)
2020-02-11 13:25:16,777 - DEBUG - coreservices:add - loading service: class(Ripng) name(RIPNG)
2020-02-11 13:25:16,777 - DEBUG - coreservices:add - loading service: class(Xpimd) name(Xpimd)
2020-02-11 13:25:16,777 - DEBUG - coreservices:add - loading service: class(Zebra) name(zebra)
2020-02-11 13:25:16,777 - DEBUG - coreservices:add - loading service: class(Bird) name(bird)
2020-02-11 13:25:16,777 - DEBUG - coreservices:add_services - not loading service(bird): failed to find required executable(bird) in path
2020-02-11 13:25:16,777 - DEBUG - coreservices:add - loading service: class(BirdBgp) name(BIRD_BGP)
2020-02-11 13:25:16,777 - DEBUG - coreservices:add_services - not loading service(BIRD_BGP): failed to find required executable(bird) in path
2020-02-11 13:25:16,777 - DEBUG - coreservices:add - loading service: class(BirdOspf) name(BIRD_OSPFv2)
2020-02-11 13:25:16,778 - DEBUG - coreservices:add_services - not loading service(BIRD_OSPFv2): failed to find required executable(bird) in path
2020-02-11 13:25:16,778 - DEBUG - coreservices:add - loading service: class(BirdRadv) name(BIRD_RADV)
2020-02-11 13:25:16,778 - DEBUG - coreservices:add_services - not loading service(BIRD_RADV): failed to find required executable(bird) in path
2020-02-11 13:25:16,778 - DEBUG - coreservices:add - loading service: class(BirdRip) name(BIRD_RIP)
2020-02-11 13:25:16,778 - DEBUG - coreservices:add_services - not loading service(BIRD_RIP): failed to find required executable(bird) in path
2020-02-11 13:25:16,778 - DEBUG - coreservices:add - loading service: class(BirdStatic) name(BIRD_static)
2020-02-11 13:25:16,778 - DEBUG - coreservices:add_services - not loading service(BIRD_static): failed to find required executable(bird) in path
2020-02-11 13:25:16,778 - DEBUG - coreemu:load_services - custom service paths: None
2020-02-11 13:25:16,779 - DEBUG - config:set_configs - setting config for node(-1) type(-1): OrderedDict([('controlnet', ''), ('controlnet0', ''), ('controlnet1', ''), ('controlnet2', ''), ('controlnet3', ''), ('controlnet_updown_script', ''), ('enablerj45', '1'), ('preservedir', '0'), ('enablesdt', '0'), ('sdturl', 'tcp://127.0.0.1:50000/')])
2020-02-11 13:25:16,902 - DEBUG - config:set_configs - setting config for node(-1) type(-1): OrderedDict([('platform_id_start', '1'), ('antennaprofilemanifesturi', ''), ('controlportendpoint', '0.0.0.0:47000'), ('eventservicedevice', 'ctrl0'), ('eventservicegroup', '224.1.2.8:45703'), ('eventservicettl', '1'), ('otamanagerchannelenable', '1'), ('otamanagerdevice', 'ctrl0'), ('otamanagergroup', '224.1.2.8:45702'), ('otamanagerloopback', '0'), ('otamanagermtu', '0'), ('otamanagerpartcheckthreshold', '2'), ('otamanagerparttimeoutthreshold', '5'), ('otamanagerttl', '1'), ('stats.event.maxeventcountrows', '0'), ('stats.ota.maxeventcountrows', '0'), ('stats.ota.maxpacketcountrows', '0'), ('nem_id_start', '1')])
2020-02-11 13:25:16,902 - DEBUG - utils:cmd - command cwd(None) wait(True): emane --version
2020-02-11 13:25:17,626 - INFO - emanemanager:emane_check - using EMANE: 1.2.5
2020-02-11 13:25:17,627 - DEBUG - emanemanager:load_models - loading emane model: EmaneRfPipeModel
2020-02-11 13:25:17,717 - DEBUG - emanemanager:load_models - loading emane model: EmaneIeee80211abgModel
2020-02-11 13:25:17,737 - DEBUG - emanemanager:load_models - loading emane model: EmaneCommEffectModel
2020-02-11 13:25:17,741 - DEBUG - emanemanager:load_models - loading emane model: EmaneBypassModel
2020-02-11 13:25:17,741 - DEBUG - emanemanager:load_models - loading emane model: EmaneTdmaModel
2020-02-11 13:25:17,752 - INFO - coreemu:create_session - created session: 1
2020-02-11 13:25:17,752 - INFO - session:set_state - changing session(1) to state CONFIGURATION_STATE
2020-02-11 13:25:17,753 - INFO - session:add_node - creating node(SwitchNode) id(1) name(SwitchNode1) start(True)
2020-02-11 13:25:17,753 - DEBUG - network:host_cmd - network node(SwitchNode1) cmd
2020-02-11 13:25:17,753 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link add name b.1.1 type bridge
2020-02-11 13:25:17,822 - DEBUG - network:host_cmd - network node(SwitchNode1) cmd
2020-02-11 13:25:17,823 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link set b.1.1 type bridge stp_state 0
2020-02-11 13:25:17,945 - DEBUG - network:host_cmd - network node(SwitchNode1) cmd
2020-02-11 13:25:17,946 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link set b.1.1 type bridge forward_delay 0
2020-02-11 13:25:17,949 - DEBUG - network:host_cmd - network node(SwitchNode1) cmd
2020-02-11 13:25:17,950 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link set b.1.1 type bridge mcast_snooping 0
2020-02-11 13:25:17,954 - DEBUG - network:host_cmd - network node(SwitchNode1) cmd
2020-02-11 13:25:17,954 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link set b.1.1 up
2020-02-11 13:25:17,959 - INFO - session:add_node - creating node(CoreNode) id(2) name(CoreNode2) start(True)
2020-02-11 13:25:17,960 - DEBUG - utils:cmd - command cwd(None) wait(True): mkdir -p /tmp/pycore.1/CoreNode2.conf
2020-02-11 13:25:18,321 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vnoded -v -c /tmp/pycore.1/CoreNode2 -l /tmp/pycore.1/CoreNode2.log -p /tmp/pycore.1/CoreNode2.pid -C /tmp/pycore.1/CoreNode2.conf
2020-02-11 13:25:18,496 - DEBUG - base:startup - node(CoreNode2) pid: 21914
2020-02-11 13:25:18,497 - DEBUG - base:startup - bringing up loopback interface
2020-02-11 13:25:18,497 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode2 -- /sbin/ip link set lo up
2020-02-11 13:25:18,540 - DEBUG - base:startup - setting hostname: CoreNode2
2020-02-11 13:25:18,540 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode2 -- hostname CoreNode2
2020-02-11 13:25:18,683 - DEBUG - utils:cmd - command cwd(None) wait(True): mkdir -p /tmp/pycore.1/CoreNode2.conf/var.run
2020-02-11 13:25:18,688 - DEBUG - base:mount - node(CoreNode2) mounting: /tmp/pycore.1/CoreNode2.conf/var.run at /var/run
2020-02-11 13:25:18,688 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode2 -- mkdir -p /var/run
2020-02-11 13:25:18,694 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode2 -- /bin/mount -n --bind /tmp/pycore.1/CoreNode2.conf/var.run /var/run
2020-02-11 13:25:18,815 - DEBUG - utils:cmd - command cwd(None) wait(True): mkdir -p /tmp/pycore.1/CoreNode2.conf/var.log
2020-02-11 13:25:18,821 - DEBUG - base:mount - node(CoreNode2) mounting: /tmp/pycore.1/CoreNode2.conf/var.log at /var/log
2020-02-11 13:25:18,822 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode2 -- mkdir -p /var/log
2020-02-11 13:25:18,828 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode2 -- /bin/mount -n --bind /tmp/pycore.1/CoreNode2.conf/var.log /var/log
2020-02-11 13:25:18,835 - DEBUG - session:add_node - set node type: PC
2020-02-11 13:25:18,836 - INFO - coreservices:add_services - using default services for node(CoreNode2) type(PC)
2020-02-11 13:25:18,836 - INFO - coreservices:add_services - setting services for node(CoreNode2): ('DefaultRoute',)
2020-02-11 13:25:18,836 - DEBUG - session:_link_nodes - link message between node1(2) and node2(1)
2020-02-11 13:25:18,836 - DEBUG - distributed:tunnel_key - creating tunnel key for: 2, 1
2020-02-11 13:25:18,836 - DEBUG - distributed:get_tunnel - checking for tunnel key(1800003637) in: {}
2020-02-11 13:25:18,836 - DEBUG - session:_link_nodes - tunnel between nodes: None
2020-02-11 13:25:18,836 - DEBUG - session:_link_nodes - link node types n1(<core.nodes.base.CoreNode object at 0x7f65cb8d7780>) n2(None) net1(<core.nodes.network.SwitchNode object at 0x7f65cb8d7cf8>) net2(None) tunnel(None)
2020-02-11 13:25:18,837 - INFO - session:add_link - adding link from node to network: CoreNode2 - SwitchNode1
2020-02-11 13:25:18,837 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link add name veth2.0.1 type veth peer name veth2.0.1p
2020-02-11 13:25:18,843 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link set veth2.0.1 up
2020-02-11 13:25:18,849 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link set veth2.0.1p netns 21914
2020-02-11 13:25:18,878 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode2 -- /sbin/ip link set veth2.0.1p name eth0
2020-02-11 13:25:19,026 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode2 -- /sbin/ethtool -K eth0 rx off tx off
2020-02-11 13:25:19,124 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode2 -- cat /sys/class/net/eth0/ifindex
2020-02-11 13:25:19,130 - DEBUG - base:newveth - interface flow index: eth0 - 41
2020-02-11 13:25:19,130 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link set dev veth2.0.1 master b.1.1
2020-02-11 13:25:19,135 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link set veth2.0.1 up
2020-02-11 13:25:19,141 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode2 -- /sbin/ip link set dev eth0 address 00:16:3e:d4:e1:43
2020-02-11 13:25:19,148 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode2 -- /sbin/ip address add 10.83.0.2/16 broadcast + dev eth0
2020-02-11 13:25:19,155 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode2 -- /sbin/ip link set eth0 up
2020-02-11 13:25:19,163 - DEBUG - interface:setparam - setting param: bw - None
2020-02-11 13:25:19,163 - DEBUG - interface:setparam - setting param: delay - None
2020-02-11 13:25:19,163 - DEBUG - interface:setparam - setting param: loss - None
2020-02-11 13:25:19,164 - DEBUG - interface:setparam - setting param: duplicate - None
2020-02-11 13:25:19,164 - DEBUG - interface:setparam - setting param: jitter - None
2020-02-11 13:25:19,164 - INFO - session:add_node - creating node(CoreNode) id(3) name(CoreNode3) start(True)
2020-02-11 13:25:19,164 - DEBUG - utils:cmd - command cwd(None) wait(True): mkdir -p /tmp/pycore.1/CoreNode3.conf
2020-02-11 13:25:19,169 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vnoded -v -c /tmp/pycore.1/CoreNode3 -l /tmp/pycore.1/CoreNode3.log -p /tmp/pycore.1/CoreNode3.pid -C /tmp/pycore.1/CoreNode3.conf
2020-02-11 13:25:19,175 - DEBUG - base:startup - node(CoreNode3) pid: 21980
2020-02-11 13:25:19,175 - DEBUG - base:startup - bringing up loopback interface
2020-02-11 13:25:19,175 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode3 -- /sbin/ip link set lo up
2020-02-11 13:25:19,183 - DEBUG - base:startup - setting hostname: CoreNode3
2020-02-11 13:25:19,183 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode3 -- hostname CoreNode3
2020-02-11 13:25:19,190 - DEBUG - utils:cmd - command cwd(None) wait(True): mkdir -p /tmp/pycore.1/CoreNode3.conf/var.run
2020-02-11 13:25:19,194 - DEBUG - base:mount - node(CoreNode3) mounting: /tmp/pycore.1/CoreNode3.conf/var.run at /var/run
2020-02-11 13:25:19,195 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode3 -- mkdir -p /var/run
2020-02-11 13:25:19,202 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode3 -- /bin/mount -n --bind /tmp/pycore.1/CoreNode3.conf/var.run /var/run
2020-02-11 13:25:19,211 - DEBUG - utils:cmd - command cwd(None) wait(True): mkdir -p /tmp/pycore.1/CoreNode3.conf/var.log
2020-02-11 13:25:19,215 - DEBUG - base:mount - node(CoreNode3) mounting: /tmp/pycore.1/CoreNode3.conf/var.log at /var/log
2020-02-11 13:25:19,216 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode3 -- mkdir -p /var/log
2020-02-11 13:25:19,222 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode3 -- /bin/mount -n --bind /tmp/pycore.1/CoreNode3.conf/var.log /var/log
2020-02-11 13:25:19,229 - DEBUG - session:add_node - set node type: PC
2020-02-11 13:25:19,230 - INFO - coreservices:add_services - using default services for node(CoreNode3) type(PC)
2020-02-11 13:25:19,230 - INFO - coreservices:add_services - setting services for node(CoreNode3): ('DefaultRoute',)
2020-02-11 13:25:19,230 - DEBUG - session:_link_nodes - link message between node1(3) and node2(1)
2020-02-11 13:25:19,230 - DEBUG - distributed:tunnel_key - creating tunnel key for: 3, 1
2020-02-11 13:25:19,230 - DEBUG - distributed:get_tunnel - checking for tunnel key(2934887630) in: {}
2020-02-11 13:25:19,230 - DEBUG - session:_link_nodes - tunnel between nodes: None
2020-02-11 13:25:19,230 - DEBUG - session:_link_nodes - link node types n1(<core.nodes.base.CoreNode object at 0x7f65cb8769e8>) n2(None) net1(<core.nodes.network.SwitchNode object at 0x7f65cb8d7cf8>) net2(None) tunnel(None)
2020-02-11 13:25:19,230 - INFO - session:add_link - adding link from node to network: CoreNode3 - SwitchNode1
2020-02-11 13:25:19,231 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link add name veth3.0.1 type veth peer name veth3.0.1p
2020-02-11 13:25:19,236 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link set veth3.0.1 up
2020-02-11 13:25:19,243 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link set veth3.0.1p netns 21980
2020-02-11 13:25:19,266 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode3 -- /sbin/ip link set veth3.0.1p name eth0
2020-02-11 13:25:19,294 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode3 -- /sbin/ethtool -K eth0 rx off tx off
2020-02-11 13:25:19,300 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode3 -- cat /sys/class/net/eth0/ifindex
2020-02-11 13:25:19,307 - DEBUG - base:newveth - interface flow index: eth0 - 43
2020-02-11 13:25:19,307 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link set dev veth3.0.1 master b.1.1
2020-02-11 13:25:19,311 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link set veth3.0.1 up
2020-02-11 13:25:19,316 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode3 -- /sbin/ip link set dev eth0 address 00:16:3e:01:bd:a1
2020-02-11 13:25:19,322 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode3 -- /sbin/ip address add 10.83.0.3/16 broadcast + dev eth0
2020-02-11 13:25:19,329 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode3 -- /sbin/ip link set eth0 up
2020-02-11 13:25:19,336 - DEBUG - interface:setparam - setting param: bw - None
2020-02-11 13:25:19,336 - DEBUG - interface:setparam - setting param: delay - None
2020-02-11 13:25:19,337 - DEBUG - interface:setparam - setting param: loss - None
2020-02-11 13:25:19,337 - DEBUG - interface:setparam - setting param: duplicate - None
2020-02-11 13:25:19,337 - DEBUG - interface:setparam - setting param: jitter - None
2020-02-11 13:25:19,337 - DEBUG - session:add_remove_control_net - add/remove control net: index(0) remove(False) conf_required(True)
2020-02-11 13:25:19,337 - DEBUG - emanemanager:setup - emane setup
2020-02-11 13:25:19,338 - DEBUG - emanemanager:setup - no emane nodes in session
2020-02-11 13:25:19,338 - INFO - session:boot_node - booting node(CoreNode2): ['DefaultRoute']
2020-02-11 13:25:19,339 - DEBUG - session:add_remove_control_net - add/remove control net: index(0) remove(False) conf_required(True)
2020-02-11 13:25:19,339 - INFO - session:boot_node - booting node(CoreNode3): ['DefaultRoute']
2020-02-11 13:25:19,339 - DEBUG - coreservices:_start - starting service dependency check: DefaultRoute
2020-02-11 13:25:19,339 - DEBUG - session:add_remove_control_net - add/remove control net: index(0) remove(False) conf_required(True)
2020-02-11 13:25:19,339 - DEBUG - coreservices:_visit - visiting service(DefaultRoute): []
2020-02-11 13:25:19,340 - DEBUG - coreservices:_start - starting service dependency check: DefaultRoute
2020-02-11 13:25:19,340 - DEBUG - coreservices:_visit - adding service to boot path: DefaultRoute
2020-02-11 13:25:19,340 - DEBUG - coreservices:_visit - visiting service(DefaultRoute): []
2020-02-11 13:25:19,340 - INFO - coreservices:_start_boot_paths - booting node(CoreNode2) services: DefaultRoute
2020-02-11 13:25:19,340 - DEBUG - coreservices:_visit - adding service to boot path: DefaultRoute
2020-02-11 13:25:19,341 - INFO - coreservices:boot_service - starting node(CoreNode2) service(DefaultRoute) validation(NON_BLOCKING)
2020-02-11 13:25:19,341 - DEBUG - coreservices:create_service_files - generating service config custom(False): defaultroute.sh
2020-02-11 13:25:19,342 - INFO - coreservices:_start_boot_paths - booting node(CoreNode3) services: DefaultRoute
2020-02-11 13:25:19,342 - INFO - coreservices:boot_service - starting node(CoreNode3) service(DefaultRoute) validation(NON_BLOCKING)
2020-02-11 13:25:19,342 - DEBUG - coreservices:create_service_files - generating service config custom(False): defaultroute.sh
2020-02-11 13:25:19,342 - DEBUG - base:nodefile - node(CoreNode2) added file: /tmp/pycore.1/CoreNode2.conf/defaultroute.sh; mode: 0644
2020-02-11 13:25:19,343 - DEBUG - utils:cmd - command cwd(None) wait(False): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode2 -- sh defaultroute.sh
2020-02-11 13:25:19,343 - DEBUG - base:nodefile - node(CoreNode3) added file: /tmp/pycore.1/CoreNode3.conf/defaultroute.sh; mode: 0644
2020-02-11 13:25:19,346 - DEBUG - utils:cmd - command cwd(None) wait(False): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode3 -- sh defaultroute.sh
2020-02-11 13:25:19,349 - DEBUG - coreservices:validate_service - validating node(CoreNode2) service(DefaultRoute)
2020-02-11 13:25:19,352 - DEBUG - coreservices:validate_service - validating node(CoreNode3) service(DefaultRoute)
2020-02-11 13:25:19,352 - DEBUG - session:boot_nodes - boot run time: 0.01460529299947666
2020-02-11 13:25:19,353 - DEBUG - session:check_runtime - session(1) checking if not in runtime state, current state: CONFIGURATION_STATE
2020-02-11 13:25:19,353 - INFO - session:set_state - changing session(1) to state RUNTIME_STATE
2020-02-11 13:25:19,606 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip -o -f inet address show
2020-02-11 13:25:19,684 - INFO - session:shutdown - session(1) shutting down
2020-02-11 13:25:19,685 - INFO - session:set_state - changing session(1) to state DATACOLLECT_STATE
2020-02-11 13:25:19,685 - INFO - session:set_state - changing session(1) to state SHUTDOWN_STATE
2020-02-11 13:25:20,259 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode3 -- [ -e /sys/class/net/eth0 ] && /sbin/ip -6 address flush dev eth0 || true
2020-02-11 13:25:20,260 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode2 -- [ -e /sys/class/net/eth0 ] && /sbin/ip -6 address flush dev eth0 || true
2020-02-11 13:25:20,507 - DEBUG - network:host_cmd - network node(SwitchNode1) cmd
2020-02-11 13:25:20,508 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link set b.1.1 down
2020-02-11 13:25:20,520 - DEBUG - network:host_cmd - network node(SwitchNode1) cmd
2020-02-11 13:25:20,520 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link delete b.1.1 type bridge
2020-02-11 13:25:20,598 - DEBUG - utils:cmd - command cwd(None) wait(True): /usr/local/bin/vcmd -c /tmp/pycore.1/CoreNode2 -- [ -e /sys/class/net/eth0 ] && /sbin/ip -6 address flush dev eth0 || true
2020-02-11 13:25:21,200 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link delete veth3.0.1
2020-02-11 13:25:21,201 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link delete veth2.0.1
2020-02-11 13:25:21,201 - DEBUG - utils:cmd - command cwd(None) wait(True): /sbin/ip link delete veth2.0.1
2020-02-11 13:25:21,227 - INFO - interface:shutdown - link already removed: veth2.0.1
2020-02-11 13:25:21,228 - DEBUG - utils:cmd - command cwd(None) wait(True): kill -9 21914
2020-02-11 13:25:21,238 - DEBUG - utils:cmd - command cwd(None) wait(True): kill -9 21980
2020-02-11 13:25:21,301 - DEBUG - utils:cmd - command cwd(None) wait(True): rm -rf /tmp/pycore.1/CoreNode2
2020-02-11 13:25:21,301 - DEBUG - utils:cmd - command cwd(None) wait(True): rm -rf /tmp/pycore.1/CoreNode3
2020-02-11 13:25:21,386 - DEBUG - utils:cmd - command cwd(None) wait(True): rm -rf /tmp/pycore.1/CoreNode2.conf
2020-02-11 13:25:21,387 - DEBUG - utils:cmd - command cwd(None) wait(True): rm -rf /tmp/pycore.1/CoreNode3.conf
2020-02-11 13:25:21,395 - DEBUG - config:set_configs - setting config for node(-1) type(-1): OrderedDict([('platform_id_start', '1'), ('antennaprofilemanifesturi', ''), ('controlportendpoint', '0.0.0.0:47000'), ('eventservicedevice', 'ctrl0'), ('eventservicegroup', '224.1.2.8:45703'), ('eventservicettl', '1'), ('otamanagerchannelenable', '1'), ('otamanagerdevice', 'ctrl0'), ('otamanagergroup', '224.1.2.8:45702'), ('otamanagerloopback', '0'), ('otamanagermtu', '0'), ('otamanagerpartcheckthreshold', '2'), ('otamanagerparttimeoutthreshold', '5'), ('otamanagerttl', '1'), ('stats.event.maxeventcountrows', '0'), ('stats.ota.maxeventcountrows', '0'), ('stats.ota.maxpacketcountrows', '0'), ('nem_id_start', '1')])
2020-02-11 13:25:21,396 - INFO - coreemu:shutdown - shutting down all sessions
2020-02-11 13:25:21,396 - INFO - session:shutdown - session(1) shutting down
2020-02-11 13:25:21,396 - INFO - session:set_state - changing session(1) to state DATACOLLECT_STATE
2020-02-11 13:25:21,397 - ERROR - session:write_state - error writing state file: 5
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/core/emulator/session.py", line 1080, in write_state
    state_file = open(self._state_file, "w")
FileNotFoundError: [Errno 2] No such file or directory: '/tmp/pycore.1/state'
2020-02-11 13:25:21,415 - INFO - session:set_state - changing session(1) to state SHUTDOWN_STATE
2020-02-11 13:25:21,416 - ERROR - session:write_state - error writing state file: 6
Traceback (most recent call last):
  File "/usr/local/lib/python3.6/dist-packages/core/emulator/session.py", line 1080, in write_state
    state_file = open(self._state_file, "w")
FileNotFoundError: [Errno 2] No such file or directory: '/tmp/pycore.1/state'
2020-02-11 13:25:21,416 - DEBUG - config:set_configs - setting config for node(-1) type(-1): OrderedDict([('platform_id_start', '1'), ('antennaprofilemanifesturi', ''), ('controlportendpoint', '0.0.0.0:47000'), ('eventservicedevice', 'ctrl0'), ('eventservicegroup', '224.1.2.8:45703'), ('eventservicettl', '1'), ('otamanagerchannelenable', '1'), ('otamanagerdevice', 'ctrl0'), ('otamanagergroup', '224.1.2.8:45702'), ('otamanagerloopback', '0'), ('otamanagermtu', '0'), ('otamanagerpartcheckthreshold', '2'), ('otamanagerparttimeoutthreshold', '5'), ('otamanagerttl', '1'), ('stats.event.maxeventcountrows', '0'), ('stats.ota.maxeventcountrows', '0'), ('stats.ota.maxpacketcountrows', '0'), ('nem_id_start', '1')])
